# Coin Data Stream processing in Kafka


## ν”„λ΅μ νΈ κ°μ”

μ΄ ν”„λ΅μ νΈλ” Kafkaλ¥Ό ν™μ©ν•μ—¬ ν„μ¬κ°€ μ •λ³΄λ¥Ό μμ§‘ν•λ” μ‹μ¤ν…μ…λ‹λ‹¤.
1. λ€ν•λ―Όκµ­ κ±°λμ†(μ—…λΉ„νΈ, λΉ—μΈ, μ½”μΈμ›, μ½”λΉ—)
2. ν•΄μ™Έ κ±°λμ†(λ°”μ΄λ‚Έμ¤, ν¬λΌμΌ„, OKX, Bybit, Gateio) 

### μ£Όμ” κΈ°λ¥

	β€Ά	λ°μ΄ν„° μμ§‘: REST APIλ¥Ό ν†µν•΄ κ° κ±°λμ†μ ν„μ¬κ°€ μ •λ³΄λ¥Ό λ¶λ¬μ¤κ³ , μ›Ήμ†μΌ“μ„ ν†µν•΄ μ‹¤μ‹κ°„μΌλ΅ ν„μ¬κ°€ λ°μ΄ν„°λ¥Ό μμ§‘ν•©λ‹λ‹¤.
	β€Ά	λ°μ΄ν„° μ „μ²λ¦¬: μμ§‘λ ν„μ¬κ°€ λ°μ΄ν„°λ¥Ό Pydanticμ„ μ΄μ©ν•μ—¬ μ „μ²λ¦¬ν• ν›„, Kafkaλ¥Ό ν†µν•΄ μ „λ‹¬ν•©λ‹λ‹¤.
	β€Ά	λΉ„λ™κΈ° μ²λ¦¬:  asyncioλ¥Ό μ‚¬μ©ν•μ—¬ λΉ„λ™κΈ°μ μΌλ΅ λ°μ΄ν„°λ¥Ό μ²λ¦¬ν•λ©°, ν¨μ¨μ μΈ λ°μ΄ν„° μμ§‘κ³Ό μ „μ†΅μ„ κµ¬ν„ν•©λ‹λ‹¤.
	β€Ά	μμ™Έ μ²λ¦¬: API νΈμ¶ μ‹¤ν¨ λ° λ°μ΄ν„° ν•μ‹ μ¤λ¥ λ“± λ‹¤μ–‘ν• μμ™Έ μƒν™©μ— λ€λΉ„ν•μ—¬ μ μ ν• μμ™Έ μ²λ¦¬λ¥Ό κµ¬ν„ν•μ—¬ μ‹μ¤ν…μ μ•μ •μ„±μ„ λ†’μ…λ‹λ‹¤.
    
### λ©ν‘
	β€Ά	μ΄ μ‹μ¤ν…μ€ λ‹¤μ–‘ν• κ±°λμ†μ μ‹¤μ‹κ°„ ν„μ¬κ°€ λ°μ΄ν„°λ¥Ό ν†µν•©ν•μ—¬, λ” λ‚μ€ λ¶„μ„ λ° κ±°λ κ²°μ •μ„ μ§€μ›ν•λ” κ²ƒμ„ λ©ν‘λ΅ ν•©λ‹λ‹¤.
 

### μ‹¤ν–‰ λ°©λ²• 
```python3
poetry shell
# topic_create
python topic_create.py

# rest
python rest_test.py

# socket
python socket_test.py
```


### μ‹μ¤ν… μ•„ν‚¤ν…μ² 
<img src="https://github.com/user-attachments/assets/414e4ce0-daca-416c-97a2-7b273987bb19" alt="Description" width="800" height="500"/>




### μ „μ²΄ νμΌ κµ¬μ΅° 
```
π“¦ Project Root
β”β”€β”€ π“ README.md                # π“„ ν”„λ΅μ νΈμ— λ€ν• μ „λ°μ μΈ μ„¤λ…κ³Ό μ‚¬μ© λ°©λ²•μ„ λ‹΄μ€ νμΌ
β”β”€β”€ π“‚ common                   # π› οΈ κ³µν†µμΌλ΅ μ‚¬μ©λλ” λ¨λ“μ„ λ¨μ•„λ†“μ€ λ””λ ‰ν† λ¦¬
β”‚   β”β”€β”€ π“‚ client               # π API ν΄λΌμ΄μ–ΈνΈμ™€ κ±°λμ† μΈν„°νμ΄μ¤ κ΄€λ ¨ λ¨λ“
β”‚   β”‚   β”β”€β”€ π async_api_client.py          # λΉ„λ™κΈ° API νΈμ¶μ„ μ„ν• ν΄λΌμ΄μ–ΈνΈ κµ¬ν„
β”‚   β”‚   β””β”€β”€ π rest_interface.py            # κ±°λμ† rest νΈμ¶ μΈν„°νμ΄μ¤λ¥Ό μ •μν• λ¨λ“
β”‚   β”‚   β””β”€β”€ π websocket_interface.py       # κ±°λμ† websocket νΈμ¶ μΈν„°νμ΄μ¤λ¥Ό μ •μν• λ¨λ“
β”‚   β”β”€β”€ π“‚ core                 # β™οΈ ν•µμ‹¬ λ΅μ§ λ° μ¶”μƒν™”λ κµ¬μ΅°λ¥Ό ν¬ν•¨ν• λ””λ ‰ν† λ¦¬
β”‚   β”‚   β”β”€β”€ π“‚ abstract         # π“ μ¶”μƒν™”λ ν΄λμ¤λ“¤μ„ λ¨μ•„λ‘” ν•μ„ λ””λ ‰ν† λ¦¬
β”‚   β”‚   β”‚   β”β”€β”€ π __init__.py               # μ¶”μƒ λ¨λ“ μ΄κΈ°ν™” νμΌ
β”‚   β”‚   β”‚   β”β”€β”€ π abstract_async_request.py # λΉ„λ™κΈ° μ”μ²­μ„ μ¶”μƒν™”ν• ν΄λμ¤
β”‚   β”‚   β”‚   β”β”€β”€ π abstract_stream.py        # μ¤νΈλ¦Ό μ²λ¦¬ μ¶”μƒ ν΄λμ¤
β”‚   β”‚   β”‚   β””β”€β”€ π abstract_trade_api.py     # κ±°λ API μ¶”μƒ ν΄λμ¤
β”‚   β”‚   β”β”€β”€ π data_format.py    # λ°μ΄ν„° ν¬λ§· λ³€ν™ λ° μ²λ¦¬ λ¨λ“
β”‚   β”‚   β””β”€β”€ π“‚ types            # π—‚οΈ κ³µν†µ λ°μ΄ν„° νƒ€μ… μ •μ λ¨λ“
β”‚   β”‚       β”β”€β”€ π __init__.py   # νƒ€μ… λ¨λ“ μ΄κΈ°ν™” νμΌ
β”‚   β”‚       β””β”€β”€ π _common_exchange.py # κ±°λμ† κ΄€λ ¨ κ³µν†µ λ°μ΄ν„° νƒ€μ… μ •μ
β”‚   β”β”€β”€ π“‚ exception            # β— μμ™Έ μ²λ¦¬λ¥Ό μ„ν• λ¨λ“
β”‚   β”‚   β”β”€β”€ π __init__.py       # μμ™Έ μ²λ¦¬ λ¨λ“ μ΄κΈ°ν™” νμΌ
β”‚   β”‚   β””β”€β”€ π exception.py      # μ»¤μ¤ν…€ μμ™Έ μ •μ
β”‚   β”β”€β”€ π“‚ setting              # β™οΈ μ„¤μ • νμΌ κ΄€λ ¨ λ¨λ“
β”‚   β”‚   β”β”€β”€ π properties.py     # κΈ°λ³Έ μ†μ„± λ° μ„¤μ • κ°’ κ΄€λ¦¬
β”‚   β”‚   β”β”€β”€ π socket_parameter.py # μ†μΌ“ μ—°κ²° νλΌλ―Έν„° μ •μ
β”‚   β”‚   β””β”€β”€ π urls.conf         # API μ—”λ“ν¬μΈνΈ URL μ„¤μ •
β”‚   β””β”€β”€ π“‚ utils                # π§° κ³µν†µ μ ν‹Έλ¦¬ν‹° ν•¨μ λ¨μ
β”‚       β”β”€β”€ π logger.py        # λ΅κ·Έ κ΄€λ¦¬ λ¨λ“
β”‚       β””β”€β”€ π other_utils.py   # κΈ°νƒ€ μ ν‹Έλ¦¬ν‹° ν•¨μλ“¤
β”β”€β”€ π“‚ config                   # π—‚οΈ μ„¤μ • κ΄€λ ¨ νμΌμ„ λ¨μ•„λ‘” λ””λ ‰ν† λ¦¬
β”‚   β”β”€β”€ π yml_param_load.py   # yml νλΌλ―Έν„° λ΅λ“ λ¨λ“
β”‚   β”β”€β”€ π“‚ foreign              # ν•΄μ™Έ κ±°λμ† μ„¤μ •
β”‚   β”‚   β”β”€β”€ π”§ _market_rest.yml   # ν•΄μ™Έ κ±°λμ† REST API μ„¤μ •
β”‚   β”‚   β””β”€β”€ π”§ _market_socket.yml # ν•΄μ™Έ κ±°λμ† μ†μΌ“ μ„¤μ •
β”‚   β”β”€β”€ π“‚ korea                # ν•κµ­ κ±°λμ† μ„¤μ •
β”‚   β”‚   β”β”€β”€ π”§ _market_rest.yml   # ν•κµ­ κ±°λμ† REST API μ„¤μ •
β”‚   β”‚   β””β”€β”€ π”§ _market_socket.yml # ν•κµ­ κ±°λμ† μ†μΌ“ μ„¤μ •
β”‚   β””β”€β”€ π“‚ types                # μ„¤μ • κ΄€λ ¨ λ°μ΄ν„° νƒ€μ… μ •μ
β”‚       β”β”€β”€ π __init__.py       # νƒ€μ… λ¨λ“ μ΄κΈ°ν™” νμΌ
β”‚       β””β”€β”€ π _exchange.py      # κ±°λμ† νƒ€μ… μ •μ
β”β”€β”€ π“‚ foreign_exchange         # π ν•΄μ™Έ κ±°λμ† λ΅μ§
β”‚   β”β”€β”€ π rest_foreign_exchange.py   # ν•΄μ™Έ κ±°λμ† REST API μ²λ¦¬ λ¨λ“
β”‚   β””β”€β”€ π socket_foreign_exchange.py # ν•΄μ™Έ κ±°λμ† μ†μΌ“ API μ²λ¦¬ λ¨λ“
β”β”€β”€ π“‚ korea_exchange           # π‡°π‡· ν•κµ­ κ±°λμ† λ΅μ§
β”‚   β”β”€β”€ π rest_korea_exchange.py    # ν•κµ­ κ±°λμ† REST API μ²λ¦¬ λ¨λ“
β”‚   β””β”€β”€ π socket_korea_exchange.py  # ν•κµ­ κ±°λμ† μ†μΌ“ API μ²λ¦¬ λ¨λ“
β”β”€β”€ π“‚ logs                     # π“ λ΅κ·Έ νμΌ λ””λ ‰ν† λ¦¬
β”β”€β”€ π“‚ mq                       # π“ λ©”μ‹μ§€ ν κ΄€λ ¨ λ¨λ“
β”‚   β”β”€β”€ π data_admin.py         # λ°μ΄ν„° κ΄€λ¦¬ λ¨λ“
β”‚   β”β”€β”€ π data_interaction.py   # λ°μ΄ν„° μƒνΈμ‘μ© λ¨λ“
β”‚   β”β”€β”€ π data_partitional.py   # λ°μ΄ν„° λ¶„ν•  μ²λ¦¬ λ¨λ“
β”‚   β”β”€β”€ π“‚ kafka-docker          # π³ Kafka κ΄€λ ¨ Docker μ„¤μ • νμΌ
β”‚   β”‚   β”β”€β”€ π³ docker_container_remove.sh # Docker μ»¨ν…μ΄λ„ μ‚­μ  μ¤ν¬λ¦½νΈ
β”‚   β”‚   β”β”€β”€ π³ fluentd-cluster.yml       # Fluentd ν΄λ¬μ¤ν„° μ„¤μ • νμΌ
β”‚   β”‚   β”β”€β”€ π³ kafka-compose.yml         # Kafka μ»΄ν¬μ¦ μ„¤μ • νμΌ
β”‚   β”‚   β””β”€β”€ π“‚ visualization        # λ°μ΄ν„° μ‹κ°ν™” κ΄€λ ¨ νμΌ
β”β”€β”€ π“‚ pipe                     # π“΅ λ°μ΄ν„° μ „μ†΅ λ° μ²λ¦¬ κ΄€λ ¨ λ¨λ“μ„ ν¬ν•¨ν• λ””λ ‰ν† λ¦¬
β”‚   β”β”€β”€ π“‚ foreign              # π ν•΄μ™Έ κ±°λμ†μ™€μ ν†µμ‹ μ„ μ„ν• ν΄λΌμ΄μ–ΈνΈ
β”‚   β”‚   β”β”€β”€ π foreign_rest_client.py      # ν•΄μ™Έ κ±°λμ†μ REST API ν΄λΌμ΄μ–ΈνΈ κµ¬ν„
β”‚   β”‚   β””β”€β”€ π foreign_websocket_client.py # ν•΄μ™Έ κ±°λμ†μ μ›Ήμ†μΌ“ ν΄λΌμ΄μ–ΈνΈ κµ¬ν„
β”‚   β”β”€β”€ π“‚ korea               # π‡°π‡· ν•κµ­ κ±°λμ†μ™€μ ν†µμ‹ μ„ μ„ν• ν΄λΌμ΄μ–ΈνΈ
β”‚   β”‚   β”β”€β”€ π korea_rest_client.py        # ν•κµ­ κ±°λμ†μ REST API ν΄λΌμ΄μ–ΈνΈ κµ¬ν„
β”‚   β”‚   β””β”€β”€ π korea_websocket_client.py   # ν•κµ­ κ±°λμ†μ μ›Ήμ†μΌ“ ν΄λΌμ΄μ–ΈνΈ κµ¬ν„
β”β”€β”€ π”§ poetry.lock               # Poetry ν¨ν‚¤μ§€ μΆ…μ†μ„± κ΄€λ¦¬ νμΌ
β”β”€β”€ π”§ pyproject.toml            # ν”„λ΅μ νΈ λ©”νƒ€λ°μ΄ν„°μ™€ μ„¤μ • νμΌ
β”β”€β”€ π”§ requirements.txt          # π“ Python ν¨ν‚¤μ§€ μΆ…μ†μ„± λ©λ΅
β”β”€β”€ π rest_test.py              # REST API ν…μ¤νΈ μ¤ν¬λ¦½νΈ
β”β”€β”€ π socket_test.py            # μ†μΌ“ API ν…μ¤νΈ μ¤ν¬λ¦½νΈ
β””β”€β”€ π topic_create.py           # Kafka ν† ν”½ μƒμ„± μ¤ν¬λ¦½νΈ
 ```
